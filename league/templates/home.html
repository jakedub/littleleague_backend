<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Little League Application</title>

    <!-- HERE Map API Scripts (Single Source for API Key) -->
    <script src="https://js.api.here.com/v3/3.1/mapsjs-core.js?apikey=3i6_xUsn7eU66y5VdaXzha5qwP_lFolNDSH9NUuPerc"></script>
    <script src="https://js.api.here.com/v3/3.1/mapsjs-service.js?apikey=3i6_xUsn7eU66y5VdaXzha5qwP_lFolNDSH9NUuPerc"></script>
    <script src="https://js.api.here.com/v3/3.1/mapsjs-ui.js?apikey=3i6_xUsn7eU66y5VdaXzha5qwP_lFolNDSH9NUuPerc"></script>
    <script src="https://js.api.here.com/v3/3.1/mapsjs-mapevents.js?apikey=3i6_xUsn7eU66y5VdaXzha5qwP_lFolNDSH9NUuPerc"></script>

    <!-- Load the static template tag -->
    {% load static %}
    <script src="{% static 'map.js' %}" defer></script>
</head>
<body>
    <h1>Welcome to the Little League Application!</h1>
    <p>Use the Geocode API to get coordinates from an address.</p>

    <!-- Geocode Form -->
    <form action="{% url 'geocode' %}" method="get">
        <label for="address">Enter an Address:</label>
        <input type="text" id="address" name="address" required>
        <button type="submit">Get Geocode</button>
    </form>

    <h2>Map:</h2>
    <div id="map" style="width: 100%; height: 500px;"></div>

    <h2>Upload CSV File</h2>
    <form action="/upload-csv/" method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        <label for="csv_file">Choose CSV File:</label>
        <input type="file" id="csv_file" name="csv_file" accept=".csv" required>
        <button type="submit">Upload</button>
    </form>

    <!-- Hidden Fields for Passing Dynamic Data -->
    <input type="hidden" id="latitude" value="{{ latitude }}">
    <input type="hidden" id="longitude" value="{{ longitude }}">
    <input type="hidden" id="coordinates" value="{{ coordinates_json }}">
    <input type="hidden" id="polygons" value="{{ polygons_json }}">

</body>
</html>